<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS</title>
    <style>
      div {
        margin: 10px 0;
      }
      small {
        display: block;
      }
    </style>
  </head>
  <body>
    <form autocomplete="off">
      <div>
        <label for="email">E-mail: </label>
        <input type="text" id="email" placeholder="Digite o seu e-mail" />
        <small id="textEmail"></small>
      </div>

      <div>
        <label for="password">Senha:</label>
        <input type="password" id="password" placeholder="Digite a sua senha"/>
        <small id="textPassword"></small>
      </div>

      <div>
        <label for="password">Senha:</label>
        <input type="password" id="password" placeholder="Digite a sua senha"/>
        <small id="textPassword"></small>
      </div>

      <div>
        <label for="cpf">Cpf:</label>
        <input type="text" id="cpf" placeholder="Digite a sua senha">
        <small id="textCpf"></small>
      </div>

      <div>
        <label for="cnpj">Cnpj:</label>
        <input type="text" id="cnpj" placeholder="Digite a sua senha"/>
        <small id="textcnpj"></small>
      </div>

      <div>
        <label for="telefone">telefone:</label>
        <input type="text" id="telefone" placeholder="Digite a sua senha"/>
        <small id="textTelefone"></small>
      </div>
      <button type="submit">Entrar</button>

      <small id="textForm"></small>
      
    </form>

  </body>

  <script>
let email = document.getElementById("email");
let password = document.getElementById("password");
let cnpj = document.getElementById("cnpj");
let cpf = document.getElementById("cpf");
let telefone = document.querySelector("telefone");
let form = document.querySelector("form");
let textForm = document.getElementById("textForm");
let textEmail = document.getElementById("textEmail");
let textPassword = document.getElementById("textPassword");
let textCnpj = document.getElementById("textCnpj");
let textCpf = document.getElementById("textCpf");
let textTelefone = document.getElementById("texTelefone");

form.addEventListener("submit", (e) => {
  if (email.value == "" && password.value == "" && cnpj.value == "" && cpf.value == "" && telefone.value == "") {
    textForm.textContent = "Você precisa preencher todos os campos!";
  } else if (
    validatorEmail(email.value) === true &&
    validatorPassword(password.value) === true &&
    validatorCpf(cpf.value) === true &&
    validatorCnpj(cnpj.value) === true &&
    validatorTelefone(telefone.value) === true
  ) {
    console.log(email.value);
    console.log(password.value);
    console.log(cpf.value);
    console.log(cnpj.value);
    console.log(telefone.value);
    textForm.textContent = "";
    textEmail.textContent = "";
    textTelefone.textContent = "";
    textPassword.textContent = "";
    textCpf.textContent = "";
    textcnpj.textContent = "";
  } else {
    console.log("Requisição não atendida");
  }

  e.preventDefault();
});

email.addEventListener("keyup", () => {
  if (validatorEmail(email.value) !== true) {
    textEmail.textContent = "O formato do email deve ser Ex: name@abc.com";
  } else {
    textEmail.textContent = "";
  }
});

password.addEventListener("keyup", () => {
  if (validatorPassword(password.value) !== true) {
    textPassword.textContent =
      "O formato da senha deve ser no min 6 caracteres";
  } else {
    textPassword.textContent = "";
  }
});

cpf.addEventListener("keyup", () => {
  if (validatorPassword(cpf.value) !== true) {
    textCpf.textContent =
      "O formato do CPF deve ser Ex: XXX.XXX.XXX-XX";
  } else {
    textCpf.textContent = "";
  }
});

cnpj.addEventListener("keyup", () => {
  if (validatorCnpj(cnpj.value) !== true) {
    textcnpj.textContent =
      "O formato do CNPJ deve ser Ex: XX.XXX.XXX/XXXX-XX";
  } else {
    textcnpj.textContent = "";
  }
});

telefone.addEventListener("keyup", () => {
  if (validatorTelefone(telefone.value) !== true) {
    texttelefone.textContent =
      "O formato do telefone deve ser Ex: XX.XXX.XXX/XXXX-XX";
  } else {
    texttelefone.textContent = "";
  }
});


function validatorEmail(email) {
  let emailPattern =
    /^[a-z0-9.]+@[a-z0-9]+\.[a-z]+\.([a-z]+)?$/i;
  return emailPattern.test(email);
}

function validatorPassword(password) {
  let passwordPattern =
  /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[$*&@#])(?:([0-9a-zA-Z$*&@#])(?!\1)){8,}$/i;
  return passwordPattern.test(password);
}

function validatorCnpj(cnpj) {
  let cnpjPattern =
  /^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/;
  return cnpjPattern.test(cnpj);
}

function validatorCpf(cpf) {
  let cpfPattern =
  /^\d{3}\.\d{3}\.\d{3}\-\d{2}$/;
  return cpfPattern.test(cpf);
}

function validatorTelefone(telefone) {
  let telefonePattern =
  /(\(?\d{2}\)?\s)?(\d{4,5}\-\d{4})/;
  return telefonePattern.test(telefone);
}
</script>
</html>